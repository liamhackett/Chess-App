{"ast":null,"code":"import { PieceType, TeamType } from \"../Constants\";\nimport { pawnMove, knightMove, bishopMove, rookMove, queenMove, kingMove, getPossiblePawnMoves, getPossibleKnightMoves, getPossibleBishopMoves, getPossibleRookMoves, getPossibleQueenMoves } from \"./rules\";\nexport default class Referee {\n  isEnPassantMove(initialPosition, desiredPosition, type, team, boardState) {\n    const pawnDirection = team === TeamType.OUR ? 1 : -1;\n\n    // upper left or upper right || bottom left or bottom right\n    // if a piece is under or above the attacked tile\n\n    if (type == PieceType.PAWN) {\n      if ((desiredPosition.x - initialPosition.x === -1 || desiredPosition.x - initialPosition.x === 1) && desiredPosition.y - initialPosition.y === pawnDirection) {\n        const piece = boardState.find(p => p.position.x === desiredPosition.x && p.position.y === desiredPosition.y - pawnDirection && p.enPassant);\n        if (piece) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  // Valid Move Function\n  isValidMove(initialPosition, desiredPosition, type, team, boardState) {\n    switch (type) {\n      case PieceType.PAWN:\n        return pawnMove(initialPosition, desiredPosition, type, team, boardState);\n      case PieceType.KNIGHT:\n        return knightMove(initialPosition, desiredPosition, type, team, boardState);\n      case PieceType.BISHOP:\n        return bishopMove(initialPosition, desiredPosition, type, team, boardState);\n      case PieceType.ROOK:\n        return rookMove(initialPosition, desiredPosition, type, team, boardState);\n      case PieceType.QUEEN:\n        return queenMove(initialPosition, desiredPosition, type, team, boardState);\n      case PieceType.KING:\n        return kingMove(initialPosition, desiredPosition, type, team, boardState);\n    }\n  }\n  getValidMoves(piece, boardState) {\n    switch (piece.type) {\n      case PieceType.PAWN:\n        return getPossiblePawnMoves(piece, boardState);\n      case PieceType.KNIGHT:\n        return getPossibleKnightMoves(piece, boardState);\n      case PieceType.BISHOP:\n        return getPossibleBishopMoves(piece, boardState);\n      case PieceType.ROOK:\n        return getPossibleRookMoves(piece, boardState);\n      case PieceType.QUEEN:\n        return getPossibleQueenMoves(piece, boardState);\n      case PieceType.KING:\n        return getPossibleKingMoves(piece, boardState);\n      default:\n        return [];\n    }\n  }\n}","map":{"version":3,"names":["PieceType","TeamType","pawnMove","knightMove","bishopMove","rookMove","queenMove","kingMove","getPossiblePawnMoves","getPossibleKnightMoves","getPossibleBishopMoves","getPossibleRookMoves","getPossibleQueenMoves","Referee","isEnPassantMove","initialPosition","desiredPosition","type","team","boardState","pawnDirection","OUR","PAWN","x","y","piece","find","p","position","enPassant","isValidMove","KNIGHT","BISHOP","ROOK","QUEEN","KING","getValidMoves","getPossibleKingMoves"],"sources":["/Users/liamhackett/Desktop/Chess-App/src/referee/Referee.ts"],"sourcesContent":["import { PieceType, TeamType , Piece, Position} from \"../Constants\";\nimport { pawnMove, knightMove,  bishopMove, rookMove, queenMove, kingMove, getPossiblePawnMoves, getPossibleKnightMoves, getPossibleBishopMoves, getPossibleRookMoves, getPossibleQueenMoves} from \"./rules\";\n\nexport default class Referee {\n    \n    isEnPassantMove(initialPosition: Position, desiredPosition: Position, type: PieceType, team: TeamType, boardState: Piece[]){\n        const pawnDirection = (team === TeamType.OUR) ? 1: -1;\n       \n        // upper left or upper right || bottom left or bottom right\n        // if a piece is under or above the attacked tile\n\n        if (type == PieceType.PAWN){\n            if ((desiredPosition.x - initialPosition.x === -1 || desiredPosition.x - initialPosition.x === 1)&& desiredPosition.y - initialPosition.y === pawnDirection){\n                const piece = boardState.find(p => p.position.x === desiredPosition.x && p.position.y === desiredPosition.y - pawnDirection && p.enPassant);\n                if(piece){\n                    return true;\n                }\n            }    \n        }\n       return false;\n    }\n    \n    // Valid Move Function\n    isValidMove(initialPosition: Position, desiredPosition: Position, type: PieceType, team: TeamType, boardState: Piece[]) {\n\n        switch(type) {\n            case PieceType.PAWN:\n                return pawnMove(initialPosition, desiredPosition, type, team, boardState);\n            \n                case PieceType.KNIGHT:\n                return knightMove(initialPosition, desiredPosition, type, team, boardState);\n            \n            case PieceType.BISHOP:\n                return bishopMove(initialPosition, desiredPosition, type, team, boardState);\n            \n            case PieceType.ROOK:\n                return rookMove(initialPosition, desiredPosition, type, team, boardState);\n            \n            case PieceType.QUEEN:\n                return queenMove(initialPosition, desiredPosition, type, team, boardState);\n            \n            case PieceType.KING:\n                return kingMove(initialPosition, desiredPosition, type, team, boardState);\n        }\n    }\n\n    getValidMoves(piece: Piece, boardState: Piece[]) : Position[] {\n         switch(piece.type){\n\n            case PieceType.PAWN:\n                return getPossiblePawnMoves(piece, boardState);\n            case PieceType.KNIGHT:\n                return getPossibleKnightMoves(piece, boardState);\n            case PieceType.BISHOP:\n                return getPossibleBishopMoves(piece, boardState);\n            case PieceType.ROOK:\n                return getPossibleRookMoves(piece, boardState);\n            case PieceType.QUEEN:\n                return getPossibleQueenMoves(piece, boardState);\n            case PieceType.KING:\n                return getPossibleKingMoves(piece, boardState);\n            default: return [];\n\n\n         }\n \n    }\n\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}