{"ast":null,"code":"import { PieceType, TeamType } from \"../components/Chessboard/Chessboard\";\nexport default class Referee {\n  tileIsOccupied(x, y, boardState) {\n    console.log(\"Checking if tile is occupied\");\n    const piece = boardState.find(p => p.x === x && p.y === y);\n    if (piece) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  isValidMove(px, py, x, y, type, team, boardState) {\n    console.log(\"Ref is checking move\");\n    console.log(`\"Previous Location: ${px} ${py}`);\n    console.log(`\"Current Location: ${x} ${y}`);\n    console.log(`Piece Type: ${type}`);\n    console.log(`Team: ${team}`);\n    if (type === PieceType.PAWN) {\n      const specialRow = team === TeamType.OUR ? 1 : 6;\n      if (py === 1) {\n        if (px === x && y - py === 1) {\n          if (!this.tileIsOccupied(x, y, boardState)) {\n            return true;\n          }\n        } else if (px === x && y - py === 2) {\n          if (!this.tileIsOccupied(x, y, boardState) && !this.tileIsOccupied(x, y - 1, boardState)) {\n            return true;\n          }\n        }\n      } else {\n        if (px === x && y - py === 1) {\n          if (!this.tileIsOccupied(x, y, boardState)) {\n            return true;\n          }\n        }\n      }\n    }\n    if (type === PieceType.PAWN) {\n      // moves for the white pawns\n      if (team === TeamType.OUR) {\n        if (py === 1) {\n          if (px === x && y - py === 1) {\n            if (!this.tileIsOccupied(x, y, boardState)) {\n              return true;\n            }\n          } else if (px === x && y - py === 2) {\n            if (!this.tileIsOccupied(x, y, boardState) && !this.tileIsOccupied(x, y - 1, boardState)) {\n              return true;\n            }\n          }\n        } else {\n          if (px === x && y - py === 1) {\n            if (!this.tileIsOccupied(x, y, boardState)) {\n              return true;\n            }\n          }\n        }\n      }\n      // pawn moves for black pawns\n      else {\n        if (py === 6) {\n          if (px === x && y - py === -1) {\n            if (!this.tileIsOccupied(x, y, boardState)) {\n              return true;\n            }\n          } else if (px === x && y - py === -2) {\n            if (!this.tileIsOccupied(x, y, boardState) && !this.tileIsOccupied(x, y + 1, boardState)) {\n              return true;\n            }\n          }\n        } else {\n          if (px === x && y - py === -1) {\n            if (!this.tileIsOccupied(x, y, boardState)) {\n              return true;\n            }\n          }\n        }\n      }\n    }\n    return false;\n  }\n}","map":{"version":3,"names":["PieceType","TeamType","Referee","tileIsOccupied","x","y","boardState","console","log","piece","find","p","isValidMove","px","py","type","team","PAWN","specialRow","OUR"],"sources":["/Users/liamhackett/Desktop/Chess-App/src/referee/Referee.ts"],"sourcesContent":["import { PieceType, TeamType , Piece} from \"../components/Chessboard/Chessboard\";\n\nexport default class Referee {\n\n    tileIsOccupied(x: number, y: number, boardState: Piece[]): boolean {\n        console.log(\"Checking if tile is occupied\");\n        const piece = boardState.find(p => p.x === x && p.y === y);\n        if(piece){\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    isValidMove(px: number, py: number, x: number, y: number, type: PieceType, team: TeamType, boardState: Piece[]) {\n        console.log(\"Ref is checking move\");\n        console.log(`\"Previous Location: ${px} ${py}`);\n        console.log(`\"Current Location: ${x} ${y}`);\n        console.log(`Piece Type: ${type}`);\n        console.log(`Team: ${team}`);\n\n        if (type === PieceType.PAWN){\n            const specialRow = (team === TeamType.OUR) ? 1: 6;\n\n            \n                if(py === 1){\n                    if(px === x && (y - py === 1)){\n                        if(!this.tileIsOccupied(x, y, boardState)){\n                            return true;\n                        }\n                    }\n                    else if(px === x && y - py === 2) {\n                        if(!this.tileIsOccupied(x, y, boardState) && !this.tileIsOccupied(x, y - 1, boardState)){\n                            return true;\n                        }\n                    }\n                }\n                else {\n                    if(px === x && (y - py === 1)){\n                        if(!this.tileIsOccupied(x, y, boardState)){\n                            return true;\n                        }\n                    }\n                }\n            \n        }\n        if(type === PieceType.PAWN){\n            // moves for the white pawns\n            if(team === TeamType.OUR){\n                if(py === 1){\n                    if(px === x && (y - py === 1)){\n                        if(!this.tileIsOccupied(x, y, boardState)){\n                            return true;\n                        }\n                    }\n                    else if(px === x && y - py === 2) {\n                        if(!this.tileIsOccupied(x, y, boardState) && !this.tileIsOccupied(x, y - 1, boardState)){\n                            return true;\n                        }\n                    }\n                }\n                else {\n                    if(px === x && (y - py === 1)){\n                        if(!this.tileIsOccupied(x, y, boardState)){\n                            return true;\n                        }\n                    }\n                }\n            }\n            // pawn moves for black pawns\n            else {\n                if(py === 6){\n                    if(px === x && (y - py === -1)){\n                        if(!this.tileIsOccupied(x, y, boardState)){\n                            return true;\n                        }\n                    }\n                    else if(px === x && y - py === -2) {\n                        if(!this.tileIsOccupied(x, y, boardState) && !this.tileIsOccupied(x, y + 1, boardState)){\n                            return true;\n                        }\n                    }\n                }\n                else {\n                    if(px === x && (y - py === -1)){\n                        if(!this.tileIsOccupied(x, y, boardState)){\n                            return true;\n                        }\n                    }\n                }\n            }\n\n        }\n        return false;\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}